function prepareForComparison(r,t){return r?t?r.toLocaleUpperCase():r:""}function comparer(r,t,e){return r===t?0:prepareForComparison(r,e).localeCompare(prepareForComparison(t,e))}function _stringFormat(r,t,e){for(var o="",n=0;;){var a=t.indexOf("{",n),i=t.indexOf("}",n);if(a<0&&i<0){o+=t.slice(n);break}if(i>0&&(i<a||a<0)){if("}"!==t.charAt(i+1))throw new Error("The format string contains an unmatched opening or closing brace.");o+=t.slice(n,i+1),n=i+2}else if(o+=t.slice(n,a),n=a+1,"{"!==t.charAt(n)){if(i<0)throw new Error("The format string contains an unmatched opening or closing brace.");var c=t.substring(n,i),s=c.indexOf(":"),l=parseInt(s<0?c:c.substring(0,s),10);if(isNaN(l))throw new Error("The format string is invalid.");var m=s<0?"":c.substring(s+1),u=e[l];void 0!==u&&null!==u||(u=""),u.toFormattedString?o+=u.toFormattedString(m):u instanceof Date?o+=dateToString(u,r):u.format?o+=u.format(m):o+=u.toString(),n=i+1}else o+="{",n++}return o}function oct(r){for(var t="",e=0;e<r;e++)t+=Math.floor(16*Math.random()).toString(16);return t}export function localeComparer(r,t){return comparer(r,t,!1)};export function localeIgnoreCaseComparer(r,t){return comparer(r,t,!0)};export function equals(r,t,e){return e?0===localeIgnoreCaseComparer(r,t):0===localeComparer(r,t)};export function startsWith(r,t,e){return 0===(e?localeIgnoreCaseComparer:localeComparer)(t,r.substr(0,t.length))};export function endsWith(r,t,e){return 0===(e?localeIgnoreCaseComparer:localeComparer)(t,r.substr(r.length-t.length,t.length))};export function caseInsensitiveContains(r,t){return-1!==r.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())};export function format(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return _stringFormat(!1,r,t)};export function localeFormat(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return _stringFormat(!0,r,t)};var localeFormatters="Intl"in window?{date:new Intl.DateTimeFormat,dateTime:new Intl.DateTimeFormat(void 0,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})}:{};export function dateToString(r,t){var e="string"==typeof t?t:"dateTime";if(t){var o=localeFormatters[e];return o||(o=localeFormatters.dateTime),o.format(r)}return r.toString()};export var EmptyGuidString="00000000-0000-0000-0000-000000000000";export function isGuid(r){return/^\{?([\dA-F]{8})-?([\dA-F]{4})-?([\dA-F]{4})-?([\dA-F]{4})-?([\dA-F]{12})\}?$/i.test(r)};export function newGuid(){var r=(128+Math.floor(64*Math.random())).toString(16);return oct(8)+"-"+oct(4)+"-4"+oct(3)+"-"+r+oct(2)+"-"+oct(12)};