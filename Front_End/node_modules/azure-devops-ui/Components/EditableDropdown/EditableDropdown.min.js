import{__assign,__extends}from"tslib";import"../../CommonImports";import"../../Core/core.css";import"./EditableDropdown.css";import*as React from"react";import{ObservableLike,ObservableValue}from"../../Core/Observable";import{CustomEditableDropdown}from"./CustomEditableDropdown";var EditableDropdown=function(e){function t(t){var o=e.call(this,t)||this;return o.dropdown=React.createRef(),o.collapse=function(){o.dropdown.current&&o.dropdown.current.collapse()},o.expand=function(){o.dropdown.current&&o.dropdown.current.expand()},o.onExpand=function(){var e=o.props,t=e.allowTextSelection,n=e.onExpand;n&&n(),t&&ObservableLike.isObservable(o.selectedText)&&ObservableLike.isObservable(o.text)&&(o.text.value=o.selectedText.value)},o.onTextChange=function(e,t){o.props.onTextChange&&o.props.onTextChange(e,t),o.text.value=t},o.onValueChange=function(e){o.props.onValueChange&&o.props.onValueChange(e),o.selectedText.value=e&&e.text||""},o.text=ObservableLike.isObservable(t.text)?t.text:new ObservableValue(t.text||""),o.selectedText=ObservableLike.isObservable(t.selectedText)?t.selectedText:new ObservableValue(t.selectedText),o}return __extends(t,e),t.prototype.focus=function(){this.dropdown.current&&this.dropdown.current.focus()},t.prototype.render=function(){return React.createElement(CustomEditableDropdown,__assign({},this.props,{onExpand:this.onExpand,onTextChange:this.onTextChange,onValueChange:this.onValueChange,ref:this.dropdown,selectedText:this.selectedText,text:this.text}))},t}(React.Component);export{EditableDropdown};