import{__extends}from"tslib";import"../../CommonImports";import"../../Core/core.css";import*as React from"react";import{Observer}from"./Observer";var ReadyableArrayObserver=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loaded=!1,t.handleLoaded=function(){t.props.data.ready.value&&!t.loaded&&(t.props.onReady&&t.props.onReady(),t.loaded=!0)},t}return __extends(t,e),t.prototype.render=function(){var e=this.props,t=e.dataComponent,o=e.loadingComponent,a=e.zeroDataComponent;return React.createElement(Observer,{data:this.props.data,onUpdate:this.handleLoaded,ready:this.props.data.ready},function(e){return e.ready?e.data.length?t(e.data):a?a():null:o?o():null})},t.prototype.componentDidUpdate=function(e){e.data!==this.props.data&&(this.loaded=!1,this.handleLoaded())},t.prototype.componentDidMount=function(){this.handleLoaded()},t}(React.Component);export{ReadyableArrayObserver};