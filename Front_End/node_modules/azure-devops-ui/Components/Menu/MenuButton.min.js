import{__assign,__extends}from"tslib";import"../../CommonImports";import"../../Core/core.css";import"./Menu.css";import"./MenuButton.css";import*as React from"react";import{ExpandableButton}from"../../Button";import{ContextualMenu}from"./Menu";var buttonId=1,MenuButton=function(t){function n(n){var o=t.call(this,n)||this;return o.dropdownButton=React.createRef(),o.expand=function(){o.dropdownButton.current&&o.dropdownButton.current.expand()},o.collapse=function(){o.dropdownButton.current&&o.dropdownButton.current.collapse()},o.renderMenu=function(t,n,e,r,u,s,i){var p="function"==typeof o.props.contextualMenuProps?o.props.contextualMenuProps():o.props.contextualMenuProps;return React.createElement(ContextualMenu,{anchorElement:e,anchorOffset:p.anchorOffset||r,anchorOrigin:p.anchorOrigin||u,anchorPoint:p.anchorPoint||s,fixedLayout:p.fixedLayout,menuOrigin:p.menuOrigin||i,menuProps:p.menuProps,className:p.className,onActivate:function(n,o){p.onActivate&&p.onActivate(n,o),t.collapse()},onDismiss:t.collapse})},o.state={id:o.props.id||"menu-button-"+buttonId++},o}return __extends(n,t),n.prototype.render=function(){var t=this.props,n=(t.contextualMenuProps,t.hideDropdownIcon);return React.createElement(ExpandableButton,__assign({},__assign(__assign({},this.props),{menuProps:void 0}),{hideDropdownIcon:n,id:this.state.id,ref:this.dropdownButton,renderCallout:this.renderMenu}),this.props.children)},n.prototype.focus=function(){this.dropdownButton.current&&this.dropdownButton.current.focus()},n}(React.Component);export{MenuButton};