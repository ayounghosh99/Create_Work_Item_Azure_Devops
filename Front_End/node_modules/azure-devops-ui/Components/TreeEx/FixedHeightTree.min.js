import{__extends}from"tslib";import"../../CommonImports";import"../../Core/core.css";import"./Tree.css";import"./TreeExpand.css";import*as React from"react";import{FixedHeightList}from"../../List";import{Observer}from"../../Observer";var FixedHeightTree=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.list=React.createRef(),t.onActivateExpand=function(e,r){!e.defaultPrevented&&r.data.underlyingItem.childItems&&(t.props.onToggle&&t.props.onToggle(e,r.data),e.preventDefault())},t.renderRow=function(e,r,i){if(!t.props.renderRow||!i.data)return React.createElement("div",null);var o={ariaRowOffset:i.ariaRowOffset,eventDispatch:i.eventDispatch,data:i.data,itemProvider:t.props.itemProvider,listProps:i.listProps,onFocusItem:i.onFocusItem};return React.createElement(Observer,{data:r.underlyingItem.data},function(i){if(i.data){r.onToggle=r.underlyingItem.childItems?t.props.onToggle:void 0;return(r.underlyingItem.data.renderRow||t.props.renderRow)(e,r,o)}var s=t.props.renderLoadingRow;return s?s(e,o):React.createElement("div",{className:"bolt-list-row-loading"},React.createElement("div",{className:"shimmer shimmer-line",style:{width:80*Math.random()+20+"%"}},"Â "))})},t}return __extends(t,e),t.prototype.render=function(){var e=this.props.role,t=void 0===e?"tree":e;return React.createElement(FixedHeightList,{className:this.props.className,eventDispatch:this.props.eventDispatch,focuszoneProps:this.props.focuszoneProps,id:this.props.id,itemProvider:this.props.itemProvider,maxHeight:this.props.maxHeight,onActivate:this.onActivateExpand,onFocus:this.props.onFocus,onSelect:this.props.onSelect,pageSize:this.props.pageSize,renderRow:this.renderRow,role:t,rowHeight:this.props.rowHeight,ref:this.list,selection:this.props.selection,singleClickActivation:this.props.singleClickActivation||!0,width:this.props.width||"100%"})},t.prototype.getFocusIndex=function(){return this.list.current?this.list.current.getFocusIndex():-1},t.prototype.getStats=function(){return this.list.current?this.list.current.getStats():{firstMaterialized:-1,lastMaterialized:-1}},t.prototype.scrollIntoView=function(e,t){if(this.list.current)return this.list.current.scrollIntoView(e,t)},t}(React.Component);export{FixedHeightTree};