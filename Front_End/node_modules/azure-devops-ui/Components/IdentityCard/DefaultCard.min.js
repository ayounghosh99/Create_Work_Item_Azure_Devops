import{__extends}from"tslib";import"../../CommonImports";import"../../Core/core.css";import"./IdentityCard.css";import*as React from"react";import*as Resources from"../../Resources.Persona";import{Button}from"../../Button";import{Icon}from"../../Icon";import{css}from"../../Util";import{Persona}from"../Persona/Persona";import{PersonaSize}from"../Persona/Persona.Props";import{CardContactLine}from"./CardContactLine";var DefaultCard=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.contactButtonRef=React.createRef(),t}return __extends(t,e),t.prototype.componentDidMount=function(){this.contactButtonRef.current&&this.contactButtonRef.current.focus()},t.prototype.render=function(){var e=this,t=this.props,a=t.identity,r=t.isPreviousHeader,n=a.displayName,i=a.department,c=a.jobTitle,o=a.mail,l=a.physicalDeliveryOfficeName,s=a.telephoneNumber;return React.createElement("div",{className:css("bolt-identity-card-content flex-column scroll-hidden",r?"bolt-identity-default-card-with-header":"bolt-identity-default-card-without-header")},React.createElement("div",{className:"flex-row"},React.createElement(Persona,{className:"bolt-identity-card-persona-main",size:PersonaSize.size72,identity:this.props.identity}),React.createElement("div",{className:"flex-column flex-grow bolt-identity-card-name scroll-hidden"},React.createElement("div",{className:"text-ellipsis title-s"},n),""===c?void 0:React.createElement("div",{className:"text-ellipsis"},c),""===i?void 0:React.createElement("div",{className:"text-ellipsis"},i))),React.createElement("div",{className:"flex-column scroll-hidden"},(o||s||l)&&React.createElement("div",{className:"bolt-identity-default-card-info-wrapper "},React.createElement("hr",{className:"bolt-identity-card-hr"}),React.createElement("div",{className:"bolt-identity-default-card-header-wrapper"},React.createElement(Button,{"aria-label":Resources.IdentityCardContact,className:"bolt-identity-default-card-header pointer bolt-profile-card-tab-element",onClick:function(){e.props.showContactCard()},ref:this.contactButtonRef,role:"button",subtle:!0,text:Resources.IdentityCardContact},React.createElement(Icon,{iconName:"ChevronRight"}))),React.createElement("div",{className:"bolt-identity-default-card-contact-info-container flex-column scroll-hidden"},o&&React.createElement(CardContactLine,{iconName:"Mail",content:o,link:"mailto:"+o}),o&&React.createElement(CardContactLine,{iconName:"Chat",content:Resources.IdentityCardStartChat,link:"sip:"+o}),s&&React.createElement(CardContactLine,{iconName:"Phone",content:s,link:"tel:"+s}),l&&React.createElement(CardContactLine,{iconName:"POI",content:l}))),this.renderDirectManagerElement()))},t.prototype.renderDirectManagerElement=function(){var e=this;if(!this.props.manager)return React.createElement("div",null);var t=this.props.manager,a={imageUrl:t.image,primaryText:t.displayName,secondaryText:t.jobTitle,tertiaryText:t.department};return React.createElement("div",{className:"bolt-identity-default-card-direct-manager-wrapper"},React.createElement("hr",{className:"bolt-identity-card-hr"}),React.createElement("div",{className:"bolt-identity-default-card-header-wrapper"},React.createElement(Button,{"aria-label":Resources.IdentityCardOrganization,className:"bolt-identity-default-card-header pointer bolt-profile-card-tab-element",onClick:function(){e.props.showOrganizationCard&&e.props.showOrganizationCard()},role:"button",text:Resources.IdentityCardOrganization,subtle:!0},React.createElement(Icon,{iconName:"ChevronRight"}))),React.createElement("div",{className:"bolt-identity-default-card-direct-manager"},React.createElement("div",{className:"bolt-identity-default-card-header-reportsto"},Resources.IdentityCardReportsTo),React.createElement("div",{className:"flex-row scroll-hidden"},React.createElement(Button,{className:"bolt-identity-card-persona-list-element bolt-profile-card-tab-element flex-shrink text-ellipsis","aria-label":t.displayName,key:t.entityId+t.signInAddress,onClick:function(){e.props.onClickEntity&&e.props.onClickEntity(t)},subtle:!0},React.createElement(Persona,{size:PersonaSize.size40,identity:t}),React.createElement("div",{className:"bolt-identity-card-text flex-column scroll-hidden"},React.createElement("div",{className:"primary-text flex-row text-ellipsis"},a.primaryText),""===a.secondaryText?void 0:React.createElement("div",{className:"secondary-text flex-row text-ellipsis"},a.secondaryText))))))},t}(React.Component);export{DefaultCard};