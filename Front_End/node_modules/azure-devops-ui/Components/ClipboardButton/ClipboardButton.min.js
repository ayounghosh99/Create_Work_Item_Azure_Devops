import{__assign,__extends}from"tslib";import"../../CommonImports";import"../../Core/core.css";import"./ClipboardButton.css";import*as React from"react";import{ObservableValue}from"../../Core/Observable";import{Button}from"../../Button";import{Observer}from"../../Observer";import*as Resources from"../../Resources.Clipboard";import{css}from"../../Util";import{copyToClipboard}from"../../Utils/ClipboardUtils";var ClipboardButton=function(o){function e(){var e=null!==o&&o.apply(this,arguments)||this;return e.copied=new ObservableValue(!1),e.onClick=function(o){var t=e.props,r=t.getContent,s=t.onCopy;e.copied.value||(e.copied.value=!0);var i=r();copyToClipboard(i,s),o.preventDefault(),o.stopPropagation()},e.onMouseLeave=function(o){e.copied.value&&(e.copied.value=!1),e.props.onMouseLeave&&e.props.onMouseLeave(o)},e}return __extends(e,o),e.prototype.render=function(){var o=this,e=this.props,t=e.ariaLabel,r=e.onBlur,s=e.onFocus,i=e.showCopiedTooltip,p=e.subtle,a=e.tooltipProps,n="string"==typeof i?i:Resources.CopiedToClipboard;return React.createElement("div",{className:css("bolt-clipboard-button",this.props.className)},React.createElement(Observer,{copied:this.copied},function(e){return React.createElement(Button,{ariaLabel:t||Resources.CopyToClipboard,iconProps:{iconName:"Copy"},onBlur:r,onClick:o.onClick,onFocus:s,subtle:p,tooltipProps:i&&e.copied?__assign(__assign({},a),{text:n}):a,onMouseLeave:o.onMouseLeave})}))},e}(React.Component);export{ClipboardButton};