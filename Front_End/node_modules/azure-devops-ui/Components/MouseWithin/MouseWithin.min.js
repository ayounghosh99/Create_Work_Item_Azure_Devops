import{__assign,__extends}from"tslib";import"../../CommonImports";import"../../Core/core.css";import*as React from"react";import{isFunctionalChildren}from"../../Util";var MouseWithin=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enterTimeout=0,t.delayTimeout=0,t.mouse=!1,t.onMouseEnter=function(e){if(!t.mouse)if(t.mouse=!0,t.delayTimeout&&(window.clearTimeout(t.delayTimeout),t.delayTimeout=0),t.props.enterDelay){e.persist();var o=e.currentTarget;t.enterTimeout=window.setTimeout(function(){t.enterTimeout=0;var n=e.currentTarget;e.currentTarget=o,t.mouseEntered(e),e.currentTarget=n},t.props.enterDelay)}else t.mouseEntered(e)},t.onMouseLeave=function(e){t.mouse&&(t.mouse=!1,t.enterTimeout&&(window.clearTimeout(t.enterTimeout),t.enterTimeout=0),t.props.leaveDelay?(e.persist(),t.delayTimeout=window.setTimeout(function(){t.delayTimeout=0,t.mouseLeft(e)},t.props.leaveDelay)):t.mouseLeft(e))},t}return __extends(t,e),t.prototype.render=function(){var e={onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave};if(isFunctionalChildren(this.props.children)){t=this.props.children;return e.hasMouse=this.mouse,t(e)}var t=React.Children.only(this.props.children);return React.cloneElement(t,__assign(__assign({},t.props),e),t.props.children)},t.prototype.componentWillUnmount=function(){this.enterTimeout&&window.clearTimeout(this.enterTimeout),this.delayTimeout&&window.clearTimeout(this.delayTimeout)},t.prototype.hasMouse=function(){return this.mouse},t.prototype.mouseEntered=function(e){this.props.updateStateOnMouseChange&&this.forceUpdate(),this.props.onMouseEnter&&this.props.onMouseEnter(e)},t.prototype.mouseLeft=function(e){this.props.updateStateOnMouseChange&&this.forceUpdate(),this.props.onMouseLeave&&this.props.onMouseLeave(e)},t.defaultProps={updateStateOnMouseChange:!0},t}(React.Component);export{MouseWithin};