import{__assign,__extends}from"tslib";import"../../CommonImports";import"../../Core/core.css";import"./Coin.css";import*as React from"react";import{Tooltip}from"../../TooltipEx";import{css,KeyCode}from"../../Util";import{getColorString}from"../../Utilities/Color";import{getInitialsColorFromName,getInitialsFromName}from"./Coin.Initials";var Coin=function(e){function o(o){var t=e.call(this,o)||this;return t.onImageError=function(e){t.setState({imageError:!0})},t.onLoad=function(e){t.setState({imageLoaded:!0})},t.handleKeyDown=function(e){e.keyCode!==KeyCode.enter&&e.keyCode!==KeyCode.space||t.props.onClick&&t.props.onClick()},t.state={imageError:!1,imageLoaded:!1,showIdentityCard:!1},t}return __extends(o,e),o.prototype.render=function(){var e=this.props,o=e.ariaLabel,t=e.className,a=e.displayName,i=e.dataIsFocusable,r=e.onClick,n=e.isTabStop,s=e.imgAltText,l=void 0===s?"":s,m=e.imageUrl,c=e.size,d=e.tooltipProps,p="size"+c,g={};i&&(g["data-is-focusable"]=!0),n&&(g.tabIndex=0),r&&(g.onKeyDown=this.handleKeyDown,g.onClick=r,g.role="button"),g["aria-label"]=void 0!==o?o:a;var C=getInitialsColorFromName(a),u=React.createElement("div",{className:css("bolt-coin-content",p),style:C&&{background:getColorString(C)}},React.createElement("span",null,getInitialsFromName(a))),f=void 0===m||this.state.imageError?u:React.createElement(React.Fragment,null,React.createElement("img",{className:css("bolt-coin-content using-image",p,!this.state.imageLoaded&&"pending-load-image"),src:m,alt:l,onError:this.onImageError,onLoad:this.onLoad})),h=React.createElement("div",__assign({className:css("bolt-coin flex-noshrink",t,p,r&&"cursor-pointer")},g),f);return null!==d?React.createElement(Tooltip,__assign({text:a,showOnFocus:!0},d),h):h},o}(React.Component);export{Coin};