import{__assign,__extends}from"tslib";import"../../CommonImports";import"../../Core/core.css";import"./Toggle.css";import*as React from"react";import{ObservableLike}from"../../Core/Observable";import{FocusGroupContext}from"../../FocusGroup";import{FocusZoneContext}from"../../FocusZone";import{Observer}from"../../Observer";import{Tooltip}from"../../TooltipEx";import{css,getSafeId,KeyCode}from"../../Util";import{getTabIndex}from"../../Utilities/Focus";var toggleId=1,Toggle=function(e){function o(){var o=null!==e&&e.apply(this,arguments)||this;return o.toggleElement=React.createRef(),o.labelId="toggle-"+toggleId+++"-label",o.onClick=function(e){o.props.onChange&&!o.props.disabled&&o.props.onChange(e,void 0!==o.props.checked&&!ObservableLike.getValue(o.props.checked))},o.onFocus=function(){o.props.id&&o.context.onFocus(o.props.id)},o.onKeyDown=function(e){e.defaultPrevented||e.which===KeyCode.space&&(o.onClick(e),e.preventDefault())},o}return __extends(o,e),o.prototype.render=function(){var e=this,o=this.props,t=o.onAriaLabel,r=o.offAriaLabel,n=o.className,c=o.disabled,a=o.excludeFocusZone,l=o.id,s=o.offText,i=o.onText,p=o.role,d=o.text,u=o.tooltipProps;return React.createElement(FocusZoneContext.Consumer,null,function(o){return React.createElement(Observer,{checked:e.props.checked},function(m){var b=m.checked?t||e.props.ariaLabel:r||e.props.ariaLabel,g=getSafeId(e.labelId),f=React.createElement("div",{className:css(n,"bolt-toggle-button cursor-pointer",m.checked&&"checked",c?"disabled":"enabled"),onClick:e.onClick,onFocus:e.onFocus,onKeyDown:e.onKeyDown},React.createElement("div",{"aria-checked":m.checked,"aria-disabled":c,"aria-label":b,"aria-labelledby":b?void 0:g,className:"bolt-toggle-button-pill bolt-focus-treatment flex-noshrink","data-focuszone":c||a?void 0:o.focuszoneId,"data-is-focusable":!0,id:getSafeId(l),ref:e.toggleElement,role:p||"switch",tabIndex:getTabIndex(e.props,e.context)},React.createElement("div",{className:"bolt-toggle-button-icon"})),React.createElement("div",{className:"bolt-toggle-button-text body-m",id:g},m.checked?i||d:s||d));return u&&(f=React.createElement(Tooltip,__assign({},u),f)),f})})},o.prototype.focus=function(){this.toggleElement.current&&this.toggleElement.current.focus()},o.contextType=FocusGroupContext,o}(React.Component);export{Toggle};