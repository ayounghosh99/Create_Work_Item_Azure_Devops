import{__extends}from"tslib";import"../../CommonImports";import"../../Core/core.css";import"./IdentityPickerDropdown.css";import*as React from"react";import{ObservableLike,ObservableValue}from"../../Core/Observable";import{FilterBarItem}from"../../FilterBarItem";import{css}from"../../Util";import{CustomIdentityPickerDropdown}from"./CustomIdentityPickerDropdown";var IdentityPickerDropdownFilterBarItem=function(e){function t(t){var i=e.call(this,t)||this;return i.selectedUser=new ObservableValue(void 0),i.selectedUserFriendlyName=new ObservableValue(""),i.areSuggestionsVisible=new ObservableValue(!1),i.onFilterChanged=function(t){e.prototype.onFilterChanged.call(i,t),t&&t.value||(i.selectedUser.value=void 0,i.setTextValue(""))},i.onSuggestionsVisibleChanged=function(e){i.areSuggestionsVisible.value=e},i.onIdentityChanged=function(e){i.selectedUser.value=e,i.setFilterValue({value:i.selectedUser.value}),i.setTextValue(e&&e.displayName||"")},i.setTextValue=function(e){i.selectedUserFriendlyName.value=e},t.initialValue&&(ObservableLike.isObservable(t.initialValue)?i.selectedUser=t.initialValue:i.selectedUser.value=t.initialValue,i.selectedUserFriendlyName.value=i.selectedUser.value&&i.selectedUser.value.displayName||""),t.initialTextValue&&(ObservableLike.isObservable(t.initialTextValue)?i.selectedUserFriendlyName=t.initialTextValue:i.selectedUserFriendlyName.value=t.initialTextValue),i}return __extends(t,e),t.prototype.focus=function(){return!1},t.prototype.render=function(){return React.createElement(CustomIdentityPickerDropdown,{className:css(this.props.className,"bolt-identitypicker-filterbaritem"),pickerProvider:this.props.pickerProvider,onChange:this.onIdentityChanged,placeholder:this.props.placeholder,editPlaceholder:this.props.editPlaceholder,value:this.selectedUser,textValue:this.selectedUserFriendlyName,resolveUnrecognizedIdentity:this.props.resolveUnrecognizedIdentity,suggestionsVisible:this.areSuggestionsVisible,onSuggestionsVisibleChanged:this.onSuggestionsVisibleChanged,onInputChange:this.setTextValue})},t}(FilterBarItem);export{IdentityPickerDropdownFilterBarItem};