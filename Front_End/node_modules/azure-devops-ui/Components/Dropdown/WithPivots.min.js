function onPivotClick(e,t){t.onPivotClicked&&t.onPivotClicked(e)}function getSelectedPivot(e){var t;if(e.selectedPivot){var o=ObservableLike.getValue(e.selectedPivot);t=e.pivots.find(function(e){return e.id===o})}return t||e.pivots[0]}function renderPivots(e){return e.pivots.length<2?null:React.createElement(FocusZoneContext.Consumer,null,function(t){return React.createElement(FocusZone,{direction:FocusZoneDirection.Horizontal},React.createElement("div",{role:"tablist"},React.createElement(FocusWithin,null,function(o){return e.pivots.map(function(r,n){var i=void 0!==e.selectedPivot&&r.id===ObservableLike.getValue(e.selectedPivot);return React.createElement(Button,{ariaSelected:i,ariaSetSize:e.pivots.length,ariaPosInSet:n+1,className:"bolt-dropdown-pivot",key:r.id,subtle:!0,onBlur:o.onBlur,onClick:function(){return onPivotClick(r,e)},onFocus:o.onFocus,role:"tab",focusZoneId:0!==n||o.hasFocus?void 0:t.focuszoneId},React.createElement("span",{className:css(e.selectedPivot&&r.id===ObservableLike.getValue(e.selectedPivot)&&"bolt-dropdown-pivot-selected")},r.name||r.id))})})))})}import{__assign}from"tslib";import"../../CommonImports";import"../../Core/core.css";import"./Dropdown.css";import*as React from"react";import{ObservableLike}from"../../Core/Observable";import{Button}from"../../Button";import{FocusWithin}from"../../FocusWithin";import{FocusZone,FocusZoneContext,FocusZoneDirection}from"../../FocusZone";import{Observer}from"../../Observer";import{css}from"../../Util";import{DropdownCallout}from"./DropdownCallout";export function WithPivots(e){var t=function(t){return React.createElement(DropdownCallout,__assign({},t,e.calloutProps,{onFilterTextChanged:function(o,r){t.onFilterTextChanged&&t.onFilterTextChanged(o,r),e.calloutProps&&e.calloutProps.onFilterTextChanged&&e.calloutProps.onFilterTextChanged(o,r)},renderBeforeContent:function(){return renderPivots(e)}}))};return React.createElement(Observer,{selectedPivot:e.selectedPivot},function(){var o=getSelectedPivot(e);return React.createElement(Observer,{userFilteredItems:o.userFilteredItems},function(){var r={actions:o.actions,filterByText:o.filterByText,userFilteredItems:o.userFilteredItems||o.items,filteredNoResultsText:o.filteredNoResultsText,filterPlaceholderText:o.filterPlaceholderText,noItemsText:o.noItemsText,renderCallout:t,showFilterBox:o.showFilterBox};return e.children(r)})})};