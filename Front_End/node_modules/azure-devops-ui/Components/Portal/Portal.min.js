import{__extends}from"tslib";import"../../CommonImports";import"../../Core/core.css";import"./Portal.css";import*as React from"react";import*as ReactDOM from"react-dom";import{ObservableValue}from"../../Core/Observable";import{Observer}from"../../Observer";var Portal=function(t){function e(e){var o=t.call(this,e)||this;o.mounted=new ObservableValue(!1);var r=o.props.portalElement;return!r&&o.props.portalSelector&&(r=document.querySelector(o.props.portalSelector)),r||(r=document.querySelector(".bolt-portal-host"))||((r=document.createElement("div")).className="bolt-portal-host absolute-fill no-events scroll-hidden",document.body.appendChild(r)),o.props.parentClassName&&!r.classList.contains(o.props.parentClassName)&&r.classList.add(o.props.parentClassName),o.parentElement=r,o.hostElement=document.createElement("div"),o}return __extends(e,t),e.prototype.render=function(){var t=this;if(this.hostElement.className="",this.hostElement.classList.add("bolt-portal"),this.hostElement.classList.add("absolute-fill"),this.props.className)for(var e=0,o=this.props.className.split(" ");e<o.length;e++){var r=o[e];this.hostElement.classList.add(r)}return ReactDOM.createPortal(React.createElement(Observer,{mounted:this.mounted},function(e){return e.mounted?t.props.children:null}),this.hostElement)},e.prototype.componentDidMount=function(){this.parentElement.appendChild(this.hostElement),this.mounted.value=!0},e.prototype.componentWillUnmount=function(){this.parentElement.removeChild(this.hostElement)},e}(React.Component);export{Portal};