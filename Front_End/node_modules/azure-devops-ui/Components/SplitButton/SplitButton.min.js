import{__assign}from"tslib";import"../../CommonImports";import"../../Core/core.css";import"./SplitButton.css";import*as React from"react";import{Button}from"../../Button";import{Expandable}from"../../Expandable";import{FocusZone,FocusZoneContext,FocusZoneDirection}from"../../FocusZone";import{IconSize}from"../../Icon";import{ContextualMenu}from"../../Menu";import*as Resources from"../../Resources.Widgets";import{css}from"../../Util";import{Location}from"../../Utilities/Position";export function SplitButton(e){var o=React.useRef(),t=e.expandableRef||React.useRef(),n=e.buttonRef,r=e.buttonProps,a=e.className,i=e.disabled,s=e.menuButtonProps,c=e.primary,l=e.subtle;return React.createElement(FocusZoneContext.Consumer,null,function(u){var m=React.createElement("div",{className:css(a,"bolt-split-button flex-stretch inline-flex-row"),ref:o},React.createElement(Button,__assign({},r,{className:css("bolt-split-button-main",r.className),disabled:i||r.disabled,focusZoneId:u.direction===FocusZoneDirection.Vertical?u.focuszoneId:void 0,primary:c,subtle:l,ref:n})),React.createElement("div",{className:css("bolt-split-button-divider flex-noshrink",c&&"primary",i&&"disabled")}),React.createElement(Expandable,{disabled:i,onCollapse:s.onCollapse,onExpand:s.onExpand,ref:t,renderCallout:e.renderCallout||function(){var n="function"==typeof e.menuButtonProps.contextualMenuProps?e.menuButtonProps.contextualMenuProps():e.menuButtonProps.contextualMenuProps;return React.createElement(ContextualMenu,{anchorElement:o.current,anchorOrigin:{horizontal:Location.end,vertical:Location.end},menuOrigin:{horizontal:Location.end,vertical:Location.start},menuProps:n.menuProps,onActivate:function(e,o){n.onActivate&&n.onActivate(e,o),t.current&&t.current.collapse()},onDismiss:function(){return t.current&&t.current.collapse()}})}},function(e){return React.createElement("div",{className:"inline-flex-row",onMouseDown:e.onMouseDown,onKeyDown:e.onKeyDown},React.createElement(Button,__assign({ariaExpanded:e.expanded,ariaLabel:Resources.MoreActions,iconProps:{iconName:"ChevronDownMed",size:IconSize.small},text:void 0},s,{className:css("bolt-split-button-option flex-self-stretch body-s",s.className,e.expanded&&"active"),disabled:i,onClick:e.onClick,primary:c,subtle:l})))}));return u.direction!==FocusZoneDirection.Horizontal&&(m=React.createElement(FocusZone,{direction:FocusZoneDirection.Horizontal},m)),m})};