import{__assign,__extends}from"tslib";import"../../CommonImports";import"../../Core/core.css";import"./Tabs.css";import*as React from"react";import{ObservableLike}from"../../Core/Observable";import{ScreenContext,ScreenSize}from"../../Core/Util/Screen";import{Observer}from"../../Observer";import{SurfaceBackground,SurfaceContext}from"../../Surface";import{css}from"../../Util";import{Tab}from"./Tab";import{TabProviderContext}from"./TabProviderContext";import{Tabs}from"./Tabs";var TabBar=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.renderAdditionalContent=function(e){return e?e(!0):r.props.renderAdditionalContent&&r.props.renderAdditionalContent()},r.createTab=function(e){return React.createElement(Tab,{ariaLabel:e.ariaLabel,badgeCount:e.badgeCount,className:e.className,key:e.id,iconProps:e.iconProps,id:e.id,name:e.name,onBeforeTabChange:e.onBeforeTabChange,url:e.url&&ObservableLike.getValue(e.url),renderBadge:e.renderBadge})},r}return __extends(r,e),r.prototype.render=function(){var e=this;return React.createElement(Observer,{size:this.context.size},function(r){var t=r.size===ScreenSize.xsmall;return React.createElement(SurfaceContext.Consumer,null,function(a){return React.createElement(TabProviderContext.Consumer,null,function(n){var o=e.props.selectedTabId||n.selectedId;return React.createElement("div",{className:css(e.props.className,"bolt-tabbar flex-row flex-center flex-noshrink",!e.props.disableSticky&&r.size>=ScreenSize.small&&"sticky",a.background===SurfaceBackground.neutral&&"bolt-tabbar-grey",a.background===SurfaceBackground.callout&&"bolt-tabbar-on-callout")},React.createElement(Tabs,__assign({selectedTabId:o},e.props,{className:css(e.props.tabsClassName,"bolt-tabbar-tabs flex-grow flex-noshrink",!t&&"flex-noshrink",t&&"h-scroll-auto")}),e.props.children,n.tabs.map(e.createTab)),e.renderAdditionalContent(n.renderFilterBar))})})})},r.contextType=ScreenContext,r}(React.Component);export{TabBar};