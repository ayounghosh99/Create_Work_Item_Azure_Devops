import{__extends}from"tslib";import"../../../CommonImports";import"../../../Core/core.css";import*as React from"react";import*as DateUtil from"../../../Utilities/Date";import{Time}from"../Time/Time";var Ago=function(t){function e(i){var o=t.call(this,i)||this;return o.getTimeString=function(){return DateUtil.ago(o.props.date,o.props.format)},o.getNextInterval=function(){return e.agoNextInterval(o.props.date,o.props.format)},o.state={tooltipProps:{}},o}return __extends(e,t),e.getDerivedStateFromProps=function(t){return{tooltipProps:void 0===t.tooltipProps?{renderContent:function(){return DateUtil.tooltipString(t.date)}}:t.tooltipProps}},e.prototype.render=function(){return React.createElement(Time,{ariaLabel:this.props.ariaLabel?this.props.ariaLabel:DateUtil.tooltipString(this.props.date),className:this.props.className,dateTime:this.props.date,getNextInterval:this.getNextInterval,getTimeString:this.getTimeString,tabIndex:this.props.tabIndex,tooltipProps:this.state.tooltipProps})},e.agoNextInterval=function(t,e,i){i||(i=new Date),e||(e=DateUtil.AgoFormat.Compact);var o,r=i.getTime()-t.getTime();if(r<2*DateUtil.minute)o=2*DateUtil.minute-r;else if(r<59*DateUtil.minute&&e===DateUtil.AgoFormat.Compact)o=DateUtil.minute-r%DateUtil.minute;else if(i.toDateString()===t.toDateString()&&e===DateUtil.AgoFormat.Compact)o=DateUtil.hour-r%DateUtil.hour;else if(e===DateUtil.AgoFormat.Extended&&i.toDateString()===t.toDateString()||r<DateUtil.week&&i.getDay()!==t.getDay()){var a=new Date(i);a.setDate(i.getDate()+1),a.setHours(0,0,0),o=a.getTime()-i.getTime()}else if(i.getFullYear()===t.getFullYear()){o=new Date(i.getFullYear()+1,0,1).getTime()-i.getTime()}return(!o||o>DateUtil.week)&&(o=-1),o},e}(React.Component);export{Ago};