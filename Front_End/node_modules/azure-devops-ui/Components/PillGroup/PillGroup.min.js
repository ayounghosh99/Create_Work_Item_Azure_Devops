import{__extends}from"tslib";import"../../CommonImports";import"../../Core/core.css";import"./PillGroup.css";import*as React from"react";import{Intersection,IntersectionContext}from"../../Intersection";import{css}from"../../Util";import{PillGroupOverflow}from"./PillGroup.Props";var PillGroup=function(e){function t(t){var o=e.call(this,t)||this;return o.observing=!1,o.observeElement=function(e){e&&o.intersectionContext&&!o.observing&&(o.intersectionContext.observe(e),o.observing=!0)},o.onIntersect=function(e){o.setState({overflowing:Math.round(e[0].rootBounds.right)<Math.round(e[0].boundingClientRect.right)})},o.state={overflowing:!1},o}return __extends(t,e),t.prototype.render=function(){var e,t=this,o=this.props,r=o.onMouseEnter,n=o.onMouseLeave,i=o.overflow;return e=i===PillGroupOverflow.fade?React.createElement(IntersectionContext.Consumer,null,function(e){return t.intersectionContext=e,React.createElement("div",{className:"bolt-pill-overflow flex-row"},React.createElement("div",{className:"bolt-pill-group-inner flex-row"},t.props.children),React.createElement("div",{className:"bolt-pill-observe",ref:function(e){return t.observeElement(e)}}))}):React.createElement("div",{className:"bolt-pill-group-inner flex-row"},this.props.children),e=React.createElement("div",{className:css(this.props.className,"bolt-pill-group flex-row",i===PillGroupOverflow.wrap?"overflow-wrap":i===PillGroupOverflow.fade?this.state.overflowing&&"overflow-fade":void 0),onMouseEnter:r,onMouseLeave:n},e),i===PillGroupOverflow.fade&&(e=React.createElement(Intersection,null,e)),e},t.prototype.componentDidMount=function(){this.intersectionContext&&this.intersectionContext.register(this.onIntersect)},t.prototype.componentWillUnmount=function(){this.intersectionContext&&this.intersectionContext.unregister(this.onIntersect)},t}(React.Component);export{PillGroup};