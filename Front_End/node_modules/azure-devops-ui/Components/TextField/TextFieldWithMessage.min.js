import{__assign,__extends}from"tslib";import"../../CommonImports";import"../../Core/core.css";import"./TextField.css";import*as React from"react";import{Observer}from"../../Observer";import{css,getSafeId}from"../../Util";import{TextField}from"./TextField";var messageId=1,TextFieldWithMessage=function(e){function t(t){var r=e.call(this,t)||this;return r.innerTextField=React.createRef(),r.select=function(){r.innerTextField.current&&r.innerTextField.current.select()},r.setSelectionRange=function(e,t){r.innerTextField.current&&r.innerTextField.current.setSelectionRange(e,t)},r.descriptionId="textfield-message-"+messageId++,r}return __extends(t,e),t.prototype.focus=function(){this.innerTextField.current&&this.innerTextField.current.focus()},Object.defineProperty(t.prototype,"selectionEnd",{get:function(){return this.innerTextField.current?this.innerTextField.current.selectionEnd:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionStart",{get:function(){return this.innerTextField.current?this.innerTextField.current.selectionStart:null},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this,t=this.props,r=t.message,s=t.error;return React.createElement(Observer,{error:s,message:r},function(t){var r=__assign({},e.props.textFieldProps),n=e.props.messageClassName;return t.error&&(r.className=css(r.className,"bolt-textfield-error"),n=css(n,"bolt-textfield-message-error"),r.suffixIconProps=r.suffixIconProps||{className:"bolt-textfield-message-error",iconName:"Error"}),React.createElement("div",{className:css(e.props.className,"flex-column")},React.createElement(TextField,__assign({ariaDescribedBy:t.message&&e.descriptionId,ref:e.innerTextField},r)),t.message&&React.createElement("span",{role:s?"alert":void 0,id:getSafeId(e.descriptionId),className:css(n,"bolt-textfield-message")},t.message))})},t}(React.Component);export{TextFieldWithMessage};