import{ObservableArray,ObservableCollection,ObservableLike}from"../Core/Observable";import{format}from"../Core/Util/String";import{wrapListBoxItems}from"../ListBox";import*as Resources from"../Resources.Dropdown";var EditableDropdownItemProvider=function(){function e(e,t){this.itemCollection=new ObservableCollection,ObservableLike.isObservable(e)?this.listItems=e:this.listItems=new ObservableArray(wrapListBoxItems(e)||e),this.itemCollection.push(this.listItems),this.extraItem=new ObservableArray,this.itemCollection.push(this.extraItem),this.selection=t}return Object.defineProperty(e.prototype,"length",{get:function(){return this.itemCollection.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.itemCollection.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasExtraItem",{get:function(){return this.extraItem.length>0},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(e,t){return this.itemCollection.subscribe(e,t)},e.prototype.unsubscribe=function(e,t){return this.itemCollection.unsubscribe(e,t)},e.prototype.setTextValue=function(e){if(this.hasExtraItem&&this.extraItem.splice(0,1),e){var t=this.listItems.value.findIndex(function(t){return t.text===e});-1!==t&&this.selection.selectable(t)||this.extraItem.push({id:e,text:format(Resources.UseItem,e),className:editableDropdownExtraItemClassName})}},e}();export{EditableDropdownItemProvider};export var editableDropdownExtraItemClassName="editable-dropdown-extra-item";